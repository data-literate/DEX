# ---------------------------------------------------------------
# DEV overlay â€” Low-resource, debug-level configuration.
# Applied to dex-dev namespace via ArgoCD ApplicationSet.
# ---------------------------------------------------------------
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: dex-dev

resources:
  - ../../base              # Inherits all base manifests

replicas:
  - name: dex
    count: 2                # 2 pods for basic availability

images:
  - name: thedataenginex/dex
    newName: ghcr.io/thedataenginex/dex
    newTag: sha-51c0cc9c    # Pinned to specific commit SHA

patches:
  - path: deployment.yaml   # Dev-specific env vars & resource limits
