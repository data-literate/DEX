# ---------------------------------------------------------------
# PROD overlay â€” Production configuration.
# 3 replicas, warn-level logging, higher resource limits.
# Deployed automatically when merging to main branch.
# ---------------------------------------------------------------
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: dex

resources:
  - ../../base

replicas:
  - name: dex
    count: 3                # Higher replica count for production traffic

images:
  - name: thedataenginex/dex
    newName: ghcr.io/thedataenginex/dex
    newTag: sha-b0c5c951

patches:
  - path: deployment.yaml
